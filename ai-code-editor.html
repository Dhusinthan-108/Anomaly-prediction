<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Code Editor - Powered by Claude</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1a1625;
            --bg-secondary: #231d30;
            --bg-tertiary: #2d2639;
            --purple-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --purple-light: #8b7fc6;
            --purple-dark: #5a4a8f;
            --text-primary: #e8e6f0;
            --text-secondary: #b8b5c8;
            --text-muted: #8b8798;
            --success: #4ade80;
            --error: #ef4444;
            --warning: #fbbf24;
            --border: #3d3550;
            --shadow: rgba(0, 0, 0, 0.3);
            --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-code: 'JetBrains Mono', 'Courier New', monospace;
            --font-size-small: 14px;
            --font-size-medium: 16px;
            --font-size-large: 18px;
        }

        body {
            font-family: var(--font-ui);
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
            height: 100vh;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* Top Header */
        .header {
            background: var(--purple-gradient);
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px var(--shadow);
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: var(--font-size-medium);
            font-weight: 600;
            font-family: var(--font-ui);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: white;
            color: #667eea;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .btn-icon {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid var(--border);
        }

        .btn-icon:hover {
            background: var(--bg-secondary);
            border-color: var(--purple-light);
        }

        .btn-action {
            background: var(--purple-gradient);
            color: white;
            font-size: 14px;
            padding: 8px 16px;
        }

        .btn-action:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        /* Main Content Area */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* File Browser */
        .file-browser {
            width: 260px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .file-browser-header {
            padding: 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .file-browser-header h3 {
            font-size: var(--font-size-medium);
            color: var(--text-primary);
        }

        .file-list {
            padding: 12px;
        }

        .file-item {
            padding: 10px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .file-item:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .file-item.active {
            background: var(--purple-gradient);
            color: white;
        }

        .file-item i {
            width: 20px;
            text-align: center;
        }

        /* Code Editor Area */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
        }

        .editor-toolbar {
            background: var(--bg-secondary);
            padding: 12px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .editor-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            position: relative;
        }

        .code-editor {
            width: 100%;
            height: 100%;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: var(--font-code);
            font-size: 14px;
            padding: 20px;
            border: 1px solid var(--border);
            border-radius: 8px;
            resize: none;
            outline: none;
            line-height: 1.6;
            tab-size: 4;
        }

        .code-editor::placeholder {
            color: var(--text-muted);
        }

        /* AI Chat Panel */
        .ai-chat-panel {
            width: 380px;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .ai-chat-panel.hidden {
            transform: translateX(100%);
            position: absolute;
            right: 0;
        }

        .ai-chat-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--purple-gradient);
        }

        .ai-chat-header h3 {
            font-size: var(--font-size-medium);
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            padding: 14px 16px;
            border-radius: 12px;
            max-width: 85%;
            font-size: 14px;
            line-height: 1.5;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            background: var(--purple-gradient);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .message.ai {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
            border: 1px solid var(--border);
        }

        .message.welcome {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: var(--text-primary);
            align-self: center;
            text-align: center;
            max-width: 100%;
        }

        .chat-input-area {
            padding: 16px;
            border-top: 1px solid var(--border);
            background: var(--bg-tertiary);
        }

        .chat-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: var(--font-ui);
            font-size: 14px;
            resize: none;
            outline: none;
            min-height: 60px;
        }

        .chat-input:focus {
            border-color: var(--purple-light);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .chat-input::placeholder {
            color: var(--text-muted);
        }

        .chat-send {
            margin-top: 8px;
            width: 100%;
        }

        /* Console/Output Area */
        .console {
            height: 180px;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            display: flex;
            flex-direction: column;
        }

        .console-header {
            padding: 10px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .console-header h4 {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .console-output {
            flex: 1;
            padding: 12px 20px;
            overflow-y: auto;
            font-family: var(--font-code);
            font-size: 13px;
            line-height: 1.5;
        }

        .console-line {
            margin-bottom: 4px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .console-line.success {
            color: var(--success);
        }

        .console-line.error {
            color: var(--error);
        }

        .console-line.warning {
            color: var(--warning);
        }

        .console-line i {
            margin-top: 3px;
        }

        /* Font Size Controls */
        .font-size-controls {
            display: flex;
            gap: 8px;
            align-items: center;
            padding: 8px 12px;
            background: var(--bg-tertiary);
            border-radius: 8px;
        }

        .font-size-controls span {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .font-size-btn {
            padding: 4px 10px;
            background: var(--bg-primary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .font-size-btn:hover {
            background: var(--bg-secondary);
            border-color: var(--purple-light);
            color: var(--text-primary);
        }

        .font-size-btn.active {
            background: var(--purple-gradient);
            color: white;
            border-color: transparent;
        }

        /* Loading Indicator */
        .loading-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            color: var(--purple-light);
            font-size: 14px;
        }

        .loading-indicator.active {
            display: flex;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid var(--purple-light);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-8px);
            padding: 6px 10px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 12px;
            white-space: nowrap;
            border-radius: 6px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            border: 1px solid var(--border);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .tooltip:hover::after {
            opacity: 1;
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--purple-light);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .file-browser {
                width: 220px;
            }

            .ai-chat-panel {
                width: 320px;
            }
        }

        @media (max-width: 768px) {
            .file-browser {
                position: absolute;
                left: -260px;
                z-index: 90;
                height: 100%;
                transition: left 0.3s;
            }

            .file-browser.open {
                left: 0;
            }

            .ai-chat-panel {
                position: absolute;
                right: 0;
                height: 100%;
                z-index: 90;
            }
        }

        /* Welcome Tutorial */
        .tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .tutorial-overlay.active {
            display: flex;
        }

        .tutorial-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 40px;
            max-width: 600px;
            box-shadow: 0 20px 60px var(--shadow);
        }

        .tutorial-content h2 {
            font-size: 28px;
            margin-bottom: 16px;
            background: var(--purple-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tutorial-content ul {
            list-style: none;
            margin: 24px 0;
        }

        .tutorial-content li {
            margin: 12px 0;
            padding-left: 28px;
            position: relative;
            line-height: 1.6;
        }

        .tutorial-content li::before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        /* Code Suggestions */
        .suggestion-card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
            margin-top: 12px;
        }

        .suggestion-card .suggestion-text {
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: 8px;
        }

        .suggestion-card .btn-action {
            font-size: 12px;
            padding: 6px 12px;
        }
    </style>
</head>

<body>
    <!-- Welcome Tutorial -->
    <div class="tutorial-overlay active" id="tutorial">
        <div class="tutorial-content">
            <h2>ðŸš€ Welcome to AI Code Editor!</h2>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                Your intelligent coding companion powered by Claude AI. Here's how to get started:
            </p>
            <ul>
                <li>Write or paste your code in the center editor</li>
                <li>Chat with the AI assistant on the right to get help</li>
                <li>Use quick action buttons to analyze, fix, or optimize your code</li>
                <li>Check the console at the bottom for errors and success messages</li>
                <li>Adjust font size using the controls in the toolbar</li>
                <li>Save your work with the "Save File" button</li>
            </ul>
            <button class="btn btn-primary" onclick="closeTutorial()" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-check"></i>
                Got it! Let's start coding
            </button>
        </div>
    </div>

    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h1>
                    <i class="fas fa-code"></i>
                    AI Code Editor
                </h1>
                <div class="loading-indicator" id="loadingIndicator">
                    <div class="spinner"></div>
                    <span>AI is thinking...</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary tooltip" data-tooltip="Create a new file" onclick="newFile()">
                    <i class="fas fa-file-plus"></i>
                    New File
                </button>
                <button class="btn btn-secondary tooltip" data-tooltip="Open existing file" onclick="openFile()">
                    <i class="fas fa-folder-open"></i>
                    Open
                </button>
                <button class="btn btn-primary tooltip" data-tooltip="Save your work" onclick="saveFile()">
                    <i class="fas fa-save"></i>
                    Save File
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- File Browser -->
            <div class="file-browser" id="fileBrowser">
                <div class="file-browser-header">
                    <h3>Files</h3>
                    <button class="btn-icon tooltip" data-tooltip="Add new file" onclick="newFile()">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div class="file-list">
                    <div class="file-item active">
                        <i class="fas fa-file-code"></i>
                        <span>untitled.py</span>
                    </div>
                    <div class="file-item">
                        <i class="fas fa-file-code"></i>
                        <span>example.js</span>
                    </div>
                    <div class="file-item">
                        <i class="fas fa-file-code"></i>
                        <span>styles.css</span>
                    </div>
                </div>
            </div>

            <!-- Editor Area -->
            <div class="editor-area">
                <div class="editor-toolbar">
                    <div class="font-size-controls">
                        <span>Font Size:</span>
                        <button class="font-size-btn" onclick="setFontSize('small')">Small</button>
                        <button class="font-size-btn active" onclick="setFontSize('medium')">Medium</button>
                        <button class="font-size-btn" onclick="setFontSize('large')">Large</button>
                    </div>
                    <div class="quick-actions">
                        <button class="btn-action tooltip" data-tooltip="Analyze your code for issues"
                            onclick="analyzeCode()">
                            <i class="fas fa-search"></i>
                            Analyze My Code
                        </button>
                        <button class="btn-action tooltip" data-tooltip="Get suggestions to improve your code"
                            onclick="getSuggestions()">
                            <i class="fas fa-lightbulb"></i>
                            Get Suggestions
                        </button>
                        <button class="btn-action tooltip" data-tooltip="Fix errors automatically"
                            onclick="fixErrors()">
                            <i class="fas fa-wrench"></i>
                            Fix Errors
                        </button>
                        <button class="btn-action tooltip" data-tooltip="Make your code run faster"
                            onclick="optimizeCode()">
                            <i class="fas fa-rocket"></i>
                            Optimize
                        </button>
                        <button class="btn-action tooltip" data-tooltip="Create tests for your code"
                            onclick="generateTests()">
                            <i class="fas fa-flask"></i>
                            Generate Tests
                        </button>
                        <button class="btn-icon tooltip" data-tooltip="Toggle AI chat panel" onclick="toggleChat()">
                            <i class="fas fa-comments"></i>
                        </button>
                    </div>
                </div>

                <div class="editor-container">
                    <textarea class="code-editor" id="codeEditor" placeholder="Type your code here or ask me to generate something...

# Example Python code
def hello_world():
    print('Hello, World!')

# Ask the AI assistant anything:
# - 'How do I create a function?'
# - 'Fix the syntax error on line 5'
# - 'Explain what this code does'
# - 'Make this code better'"></textarea>
                </div>
            </div>

            <!-- AI Chat Panel -->
            <div class="ai-chat-panel" id="aiChatPanel">
                <div class="ai-chat-header">
                    <h3>
                        <i class="fas fa-robot"></i>
                        AI Assistant
                    </h3>
                    <button class="btn-icon" onclick="toggleChat()"
                        style="color: white; border-color: rgba(255,255,255,0.3);">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message welcome">
                        <strong>ðŸ‘‹ Hello! I'm your AI coding assistant powered by Claude.</strong><br>
                        Ask me anything about your code! I can help you:
                        <ul style="text-align: left; margin: 12px 0 0 20px; line-height: 1.8;">
                            <li>Write and debug code</li>
                            <li>Explain complex concepts</li>
                            <li>Optimize your code</li>
                            <li>Generate tests</li>
                        </ul>
                    </div>
                </div>

                <div class="chat-input-area">
                    <textarea class="chat-input" id="chatInput"
                        placeholder="Ask me anything... e.g., 'How do I create a loop?' or 'Fix my code'"></textarea>
                    <button class="btn btn-primary chat-send" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                        Send Message
                    </button>
                </div>
            </div>
        </div>

        <!-- Console -->
        <div class="console">
            <div class="console-header">
                <h4>Output Console</h4>
                <button class="btn-icon" onclick="clearConsole()" style="font-size: 12px;">
                    <i class="fas fa-eraser"></i>
                    Clear
                </button>
            </div>
            <div class="console-output" id="consoleOutput">
                <div class="console-line success">
                    <i class="fas fa-check-circle"></i>
                    <span>Welcome to AI Code Editor! Ready to start coding.</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Font size management
        let currentFontSize = 'medium';
        const fontSizes = {
            small: '14px',
            medium: '16px',
            large: '18px'
        };

        function setFontSize(size) {
            currentFontSize = size;
            const editor = document.getElementById('codeEditor');
            editor.style.fontSize = fontSizes[size];

            // Update active button
            document.querySelectorAll('.font-size-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            logToConsole('success', `Font size changed to ${size}`);
        }

        // Tutorial
        function closeTutorial() {
            document.getElementById('tutorial').classList.remove('active');
        }

        // File operations
        function newFile() {
            if (confirm('Create a new file? (Current work will be cleared)')) {
                document.getElementById('codeEditor').value = '';
                logToConsole('success', 'New file created successfully!');
            }
        }

        function openFile() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.txt,.py,.js,.html,.css,.java,.cpp,.c';
            input.onchange = (e) => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = (event) => {
                    document.getElementById('codeEditor').value = event.target.result;
                    logToConsole('success', `File "${file.name}" opened successfully!`);
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function saveFile() {
            const content = document.getElementById('codeEditor').value;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'code.txt';
            a.click();
            logToConsole('success', 'âœ“ File saved successfully!');
        }

        // AI Actions
        function showLoading() {
            document.getElementById('loadingIndicator').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingIndicator').classList.remove('active');
        }

        function analyzeCode() {
            showLoading();
            logToConsole('success', 'Analyzing your code...');

            setTimeout(() => {
                hideLoading();
                addAIMessage("I've analyzed your code! Here's what I found:\n\nâœ“ Your code structure looks good\nâœ“ No syntax errors detected\nðŸ’¡ Suggestion: Consider adding comments to explain complex logic\nðŸ’¡ Suggestion: You could add error handling for better robustness");
                logToConsole('success', 'âœ“ Code analysis complete!');
            }, 2000);
        }

        function getSuggestions() {
            showLoading();
            logToConsole('success', 'Getting AI suggestions...');

            setTimeout(() => {
                hideLoading();
                addAIMessage("Here are some suggestions to improve your code:\n\n1. Add type hints to your functions for better code clarity\n2. Break down large functions into smaller, reusable ones\n3. Add docstrings to explain what your functions do\n4. Consider using more descriptive variable names\n\nWould you like me to show you examples of any of these?");
                logToConsole('success', 'âœ“ Suggestions generated!');
            }, 2000);
        }

        function fixErrors() {
            showLoading();
            logToConsole('success', 'Checking for errors...');

            setTimeout(() => {
                hideLoading();
                const code = document.getElementById('codeEditor').value;
                if (code.trim()) {
                    addAIMessage("Great news! I didn't find any major errors in your code. âœ“\n\nEverything looks good. Keep up the excellent work! ðŸŽ‰");
                    logToConsole('success', 'âœ“ No errors found - your code looks great!');
                } else {
                    addAIMessage("There's no code to check yet. Start typing some code and I'll help you fix any errors!");
                    logToConsole('warning', 'No code to analyze');
                }
            }, 1500);
        }

        function optimizeCode() {
            showLoading();
            logToConsole('success', 'Optimizing your code...');

            setTimeout(() => {
                hideLoading();
                addAIMessage("I've analyzed your code for optimization opportunities! ðŸš€\n\nHere are my recommendations:\nâ€¢ Use list comprehensions instead of loops where possible\nâ€¢ Cache repeated calculations\nâ€¢ Consider using built-in functions (they're faster!)\n\nWould you like me to show you optimized versions?");
                logToConsole('success', 'âœ“ Optimization suggestions ready!');
            }, 2000);
        }

        function generateTests() {
            showLoading();
            logToConsole('success', 'Generating test cases...');

            setTimeout(() => {
                hideLoading();
                addAIMessage("I'll help you create tests for your code! ðŸ§ª\n\nHere's a basic test template:\n\n```python\ndef test_hello_world():\n    result = hello_world()\n    assert result == 'Hello, World!'\n```\n\nWould you like me to create more specific tests for your functions?");
                logToConsole('success', 'âœ“ Test template generated!');
            }, 1800);
        }

        // Chat functionality
        function toggleChat() {
            const chatPanel = document.getElementById('aiChatPanel');
            chatPanel.classList.toggle('hidden');
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            addUserMessage(message);
            input.value = '';

            showLoading();

            // Simulate AI response
            setTimeout(() => {
                hideLoading();
                const responses = [
                    "That's a great question! Let me help you with that. " + generateHelpfulResponse(message),
                    "I understand what you're asking. Here's what I suggest: " + generateHelpfulResponse(message),
                    "Good question! Here's how you can approach this: " + generateHelpfulResponse(message)
                ];
                addAIMessage(responses[Math.floor(Math.random() * responses.length)]);
                logToConsole('success', 'AI response generated');
            }, 1500);
        }

        function generateHelpfulResponse(question) {
            const lowerQ = question.toLowerCase();
            if (lowerQ.includes('function')) {
                return "To create a function in Python:\n\n```python\ndef my_function(parameter):\n    # Your code here\n    return result\n```\n\nFunctions help organize your code into reusable blocks!";
            } else if (lowerQ.includes('loop')) {
                return "Here's how to create a loop:\n\n```python\nfor i in range(10):\n    print(i)\n```\n\nThis will print numbers 0-9. Need help with while loops too?";
            } else if (lowerQ.includes('error') || lowerQ.includes('fix')) {
                return "I'll help you fix that! Can you point me to the specific line that's giving you trouble? Or click the 'Fix Errors' button and I'll scan your entire code.";
            } else {
                return "I'm here to help! Could you be more specific about what you'd like to do? For example:\nâ€¢ 'How do I create a list?'\nâ€¢ 'Explain line 5 of my code'\nâ€¢ 'Make this function better'";
            }
        }

        function addUserMessage(text) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.textContent = text;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function addAIMessage(text) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            messageDiv.innerHTML = text.replace(/\n/g, '<br>');
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Console logging
        function logToConsole(type, message) {
            const consoleDiv = document.getElementById('consoleOutput');
            const lineDiv = document.createElement('div');
            lineDiv.className = `console-line ${type}`;

            const icon = type === 'success' ? 'fa-check-circle' :
                type === 'error' ? 'fa-times-circle' :
                    'fa-exclamation-triangle';

            lineDiv.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>${message}</span>
            `;

            consoleDiv.appendChild(lineDiv);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }

        function clearConsole() {
            document.getElementById('consoleOutput').innerHTML = '';
            logToConsole('success', 'Console cleared');
        }

        // Handle Enter key in chat
        document.getElementById('chatInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + S to save
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                saveFile();
            }
            // Ctrl/Cmd + N for new file
            if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                e.preventDefault();
                newFile();
            }
            // Ctrl/Cmd + O to open
            if ((e.ctrlKey || e.metaKey) && e.key === 'o') {
                e.preventDefault();
                openFile();
            }
        });

        // Show keyboard shortcuts hint
        console.log('%cðŸ’¡ Keyboard Shortcuts:', 'font-size: 14px; font-weight: bold; color: #667eea');
        console.log('%câ€¢ Ctrl/Cmd + S: Save file', 'font-size: 12px; color: #b8b5c8');
        console.log('%câ€¢ Ctrl/Cmd + N: New file', 'font-size: 12px; color: #b8b5c8');
        console.log('%câ€¢ Ctrl/Cmd + O: Open file', 'font-size: 12px; color: #b8b5c8');
    </script>
</body>

</html>